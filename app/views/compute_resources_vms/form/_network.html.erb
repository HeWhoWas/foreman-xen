<script>
    populateNetworks = function(results){
        $('#host_compute_attributes_VIFs_print').children().remove();
        for (var i = 0; i < results.length; i++) {
            result = results[i];
            $('#host_compute_attributes_VIFs_print').append('<option id=' + result['name'] + '>' + result['name'] + '</option>');
        }
    }
</script>

<div class="fields">
  <div id='nat' class=''>
    <%= selectable_f f, :print, compute_resource.networks.map(&:name),
                     { :include_blank => compute_resource.networks.any? ? false : _("No networks"),
                       :selected      => attribute_map[:network_selected] },
                     { :class           => "span2",
                       :label           => _("Network"),
                       :input_group_btn => link_to_function(icon_text('refresh'), "refreshCache('networks', #{compute_resource.id}, populateNetworks)", :class => 'btn btn-primary',
                                                           :title => _('Refresh the available networks.')) }
    %>
  </div>
</div>